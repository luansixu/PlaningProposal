# 项目简报：小村庄领主（Village Lord）

> **文档性质**：立项提案 / 创意总监交底文档
> **目标读者**：项目负责人——用于快速理解项目全貌，准备进入深度策划讨论
> **日期**：2026-02-09
> **版本**：v2 — 基于"Gameplay First"设计哲学修订

---

## 一、一句话说清这个项目

**一个好玩的村庄经营游戏——像星露谷一样有手感、有节奏、有成长。AI 不是主角，但它让这个世界真正"活着"：你的村民会做出你从没见过的事。**

---

## 二、为什么做这个？（立项动机）

### 我们发现的机会

1. **"斗蛐蛐"现象**：黑神话悟空上线时，大量玩家热衷于观看 AI 角色互相战斗。核心需求是——"看有个性的实体，在我设定的条件下，产生不可预测的结果"。目前没有游戏把这个需求做成核心玩法。

2. **"伪开放世界"痛点**：传统开放世界本质是大量人力预设的有限内容集合。玩家玩到一定程度就知道"这个世界有尽头"。LLM 有能力提供真正的惊喜感和无尽探索感。

3. **AI 游戏的体验断层**：目前市面上的 AI 原生游戏（如 AIvilization）偏向"放置观察"，**想法很先进，但一点不好玩**。核心问题是砍掉了游戏最底层的"手感"和"微决策"，直接跳到了"观察涌现层"。我们要做的是：**先保证游戏好玩，再用 AI 锦上添花。**

### 关键认知修正（v2 新增）

> **不是"围绕 AI 做游戏"，而是"做好游戏，精确地加入 AI"。**

| 错误方向 | 正确方向 |
|---------|---------|
| AI 能力 → 围绕 AI 设计游戏 → 希望好玩 | **好玩的游戏 → 找到 AI 增强的精确位置 → 有限度接入** |
| 玩家全程和 AI 互动 | **玩家 85% 时间在玩传统游戏，15% 时间被 AI 惊喜打动** |
| AI 输出文字墙 | **AI 输出被翻译为游戏事件/动画/状态变化** |
| 到处加 AI | **只在"非 AI 不可"的地方加 AI** |

### 与同类游戏的定位

| 维度 | AIvilization | 星露谷物语 | **小村庄领主（我们）** |
|------|-------------|-----------|---------------------|
| 即时手感 | 无 | 极强 | **强（继承星露谷的日常节奏）** |
| AI 深度 | 强（全 AI 驱动） | 无 | **精准（关键时刻 AI 介入）** |
| 玩家影响力 | 弱（观察者） | 强（直接操控） | **强（领主决策+经营操控）** |
| 目标感 | 弱（放置） | 强（四季/社区中心） | **强（生存挑战+村庄发展）** |
| 惊喜感 | 有但慢 | 预设有限 | **AI 创造无限惊喜** |
| 操作门槛 | 低（挂机） | 低（直觉操作） | **低-中（点选+可选文本）** |

---

## 三、核心设计原则

> 详见 `游戏创意.md` → "AI 游戏设计原则"完整章节

| 编号 | 原则 | 在本项目的体现 |
|------|------|--------------|
| 0 | Gameplay First | 关掉 AI，游戏仍可操作、有基本乐趣 |
| 1 | 金字塔法则 | 手感层和核心机制层绝不依赖 AI |
| 2 | 85/15 法则 | 85% 传统经营体验，15% AI 惊喜 |
| 3 | 四层反馈 | 秒级（点击即反馈）到周期（编年史）全覆盖 |
| 4 | 白名单介入 | AI 只在对话/关系事件/危机/结局介入 |
| 5 | 事件化输出 | AI 输出 = 游戏事件，不是文字墙 |
| 6 | 克制原则 | 每个 AI 介入点都经过四项检验 |

---

## 四、核心体验（玩家会感受到什么？）

### 四层体验，对应四层反馈速度

| 层级 | 时间尺度 | 体验内容 | 是否涉及 AI |
|------|---------|---------|------------|
| **秒级** | < 1 秒 | 点击采集资源、拖拽建造、打开面板 | 绝不 |
| **分钟级** | 1-5 分钟 | 规划今天干什么：先分配任务→采集→建造→社交 | 绝不 |
| **天/回合级** | 5-15 分钟 | 资源收获、设施升级、NPC 关系事件 | **可选增强** |
| **周期/结局级** | 30分钟+ | 危机应对、村庄命运转折、编年史 | **AI 核心价值** |

### 一局游戏的典型体验流

```
开局 → 认识 6 个村民 + 初始领地 → 教程日（即时操作教学）
  ↓
第 1-3 天 → 日常经营期
  ├─ 每天：起床 → 查看资源 → 分配任务 → 采集/建造 → 社交 → 睡觉
  ├─ 操作感：像星露谷一样每天有充实的事可做（秒级+分钟级反馈）
  └─ AI 不介入：纯传统游戏体验，建立基础节奏
  ↓
第 4-5 天 → AI 首次登场（增强层）
  ├─ 某个村民主动找你说了一件你没预料到的事
  ├─ 或者两个村民之间发生了一个基于性格的冲突
  └─ 玩家感受："咦？这个我没见过"——但不打断正常游戏节奏
  ↓
第 6-10 天 → 经营深化 + AI 增强交织
  ├─ 每天仍有大量传统操作（资源/建造/升级）
  ├─ 每 2-3 天出现一次 AI 驱动的关系事件或个性化请求
  └─ 玩家对村民产生情感投射
  ↓
第 11-14 天 → 危机爆发（惊喜层）
  ├─ AI 生成的突发危机（干旱/外敌/瘟疫/内部叛变——每局不同）
  ├─ 玩家必须用积累的资源和关系来应对
  └─ 高压决策，村民的反应基于之前所有互动历史
  ↓
结局 → AI 生成"编年史"
  ├─ 村庄繁荣/勉强存活/分裂/崩溃
  ├─ 每个村民的结局故事（只属于你这一局）
  └─ 强烈的叙事满足感
  ↓
重开 → 新的村民组合、新的性格碰撞、新的故事
```

---

## 五、游戏系统设计

### 5.1 基础层——不依赖 AI 的核心游戏系统

> 这一层关掉 AI 也必须能玩、有基本乐趣。

| 系统 | 内容 | 反馈速度 | AI 参与 |
|------|------|---------|--------|
| **资源管理** | 食物/木材/金币的收集、消耗、分配 | 秒级 | 无 |
| **建造系统** | 建设/升级设施（房屋/仓库/农田/工坊） | 秒级 | 无 |
| **NPC 日程** | 村民按预设时间表行动（工作/休息/社交） | 分钟级 | 无 |
| **任务/目标** | 每天有明确目标（建造X/采集Y/存活Z天） | 分钟级 | 无 |
| **季节/天气** | 规则化的环境变化，影响资源产出 | 天级 | 无 |
| **UI/反馈** | 点击即响应，动画即时播放 | 秒级 | 无 |

### 5.2 增强层——AI 有限度介入

> 在基础层正常运转的前提下，AI 在特定时刻提供传统游戏无法实现的体验。

| 场景 | AI 做什么 | 触发频率 | 延迟处理方式 |
|------|----------|---------|------------|
| **玩家主动对话** | 根据关系+记忆+性格生成对话 | 玩家触发 | 1-2 秒等待（可接受） |
| **NPC 关系事件** | "张三和李四吵架了"的原因和过程 | 每 2-3 天 | 回合间后台处理 |
| **NPC 个性化请求** | "李四想让你帮忙盖个工坊" | 每 3-5 天 | 回合间后台处理 |
| **政策后果解读** | 玩家颁布政策 → 每个 NPC 的反应 | 玩家触发 | 回合间后台处理 |

### 5.3 惊喜层——AI 在关键时刻闪光

> 罕见但令人难忘。这是别的游戏给不了的体验。

| 场景 | AI 做什么 | 触发频率 | 效果 |
|------|----------|---------|------|
| **突发危机** | 生成前所未有的危机及细节 | 每 5-7 天 | 打破常规，制造紧张感 |
| **NPC 自发行为** | 出乎意料但符合性格的自主行动 | 罕见 | 真正的涌现惊喜 |
| **结局编年史** | 生成完整的村庄和每个村民的结局叙事 | 一局一次 | 强烈的叙事满足感 |

---

## 六、LLM 的角色与约束

### LLM 在本项目中是什么？

**LLM 是"村民灵魂的一部分"**——大部分时候村民走预设日程（像星露谷的 NPC），但在关键时刻 LLM 赋予他们"超出预设的灵魂"。

**玩家不该感知到 AI 在思考。** AI 的输出通过游戏事件呈现：
- 正确："张三搬走了" + 离开动画 + 关系面板变化
- 错误：一大段 AI 分析张三为什么搬走

### 输入设计（LLM 看到什么）

每次调用时，给 LLM 的上下文包含：
- **角色卡**：该村民的性格特质（3-5 个标签）、当前目标、记忆摘要（最近 3-5 天关键事件）
- **关系矩阵**：与其他村民的关系数值（-100~+100）及关系事件
- **世界状态**：资源余量、天气、当前危机、领主最新政策
- **可选动作白名单**：该村民当前可以做的事（工作/休息/社交/争吵/帮助/偷窃/求助领主/出走...）

### 输出约束（LLM 能做什么）

采用**"白名单 + 幅度限制 + 程序化校验"**三重约束：

```json
// LLM 输出格式（结构化 JSON）
{
  "action": "socialize",          // 必须从白名单枚举中选
  "target": "npc_003",            // 必须是存在的实体
  "mood_change": -5,              // 幅度限制：-20 ~ +20
  "relationship_change": {
    "npc_003": +8                 // 幅度限制：-15 ~ +15
  },
  "diary": "今天去找李四聊天...",    // 日志文本，≤80 字
  "event_trigger": null            // 可选触发事件，从事件池中选
}
```

**不可触碰的硬边界**：
- 不能直接杀死/移除任何村民
- 不能创造不存在的资源/物品
- 不能修改其他村民的核心性格
- 不能破坏第四面墙
- 单次数值变动不能超过幅度限制

### 降级与兜底

- LLM 返回格式错误 → 村民走预设日程（不是"无事发生"，是正常行为）
- LLM 延迟过高 → 用基于性格标签的模板化行为填充
- LLM 输出违反约束 → 截断到合法范围，记录日志
- **关键保障**：即使 AI 完全不可用，游戏仍可运行——只是村民行为变为纯预设模式

---

## 七、最小原型范围（MVP 建议）

### 1-2 周可交付的最小原型

| 要素 | 最小规模 |
|------|---------|
| 村民数量 | 6 人 |
| 性格维度 | 3 个标签/人（如：勤劳/暴躁/贪婪） |
| **基础玩法** | **资源采集（点击）+ 任务分配（拖拽）+ 简易建造（3 种设施）** |
| 可选动作（NPC） | 8-10 种（工作/休息/社交/争吵/帮助/偷窃/求助领主/出走...） |
| 资源种类 | 3 种（食物/木材/金币） |
| 玩家操作 | 资源管理 + 任务分配 + 建造 + 与村民交谈 + 颁布政策 |
| AI 调用频率 | **每 2-3 天一次关系事件 + 玩家主动对话时** |
| 游戏时长 | 14 天（回合）为一局 |
| 失败条件 | 食物归零 / 村民全部出走 / 暴动 |
| 胜利条件 | 存活 14 天 + 村庄繁荣度达标 |
| UI | 简洁像素/色块风格 + 清晰的状态面板 |
| API 成本/局 | ~1-3 元 |

### 原型要验证的核心假设（v2 修订）

1. **基础层好不好玩？** 关掉 AI，只玩资源管理+建造+日程——是否有基本的充实感和节奏？
2. **AI 增强是否"锦上添花"？** 打开 AI 后，偶发的关系事件/对话是否让玩家觉得"这个游戏和别的不一样"？
3. **惊喜感是否成立？** AI 生成的危机/自发行为是否让玩家真的惊喜，而非觉得混乱？
4. **约束框架是否可行？** 白名单+幅度限制能否让 LLM 输出稳定可用？
5. **不感知延迟？** 回合间后台处理是否能完全隐藏 AI 延迟？

---

## 八、技术选型初步方向

考虑到项目已有 Godot 项目基础（AIvilization World），有两条路线可选：

| 路线 | 优势 | 劣势 |
|------|------|------|
| **A. 纯 Web 原型（H5）** | 最快出活、分享方便、符合项目规则 | 表现力有限、无法复用 Godot 资产 |
| **B. Godot 原型** | 可复用现有项目架构、表现力好 | 迭代速度稍慢、分享不便 |

> 具体选型留待项目负责人决定。创意总监建议：**MVP 阶段优先速度**，先验证体验再考虑引擎。

---

## 九、风险与待解决问题

| 风险 | 严重度 | 应对思路 |
|------|--------|---------|
| **基础层不好玩（最大风险）** | **极高** | **先做不带 AI 的经营原型验证手感，确认好玩再加 AI** |
| LLM 输出不稳定/跑题 | 高 | 三重约束（白名单+幅度+校验）+ 降级为预设行为 |
| 涌现感不足（村民行为单调） | 高 | 丰富性格维度、增加事件池、优化 Prompt |
| API 成本失控 | 中 | 控制调用频率（每 2-3 天一次）、用小模型 |
| 玩家觉得"没事可做" | 中 | 先确保基础经营层足够充实 |
| AI 惊喜变成 AI 噪音 | 中 | 严格控制频率，宁少勿多 |

---

## 十、与项目负责人的讨论清单

进入深度策划前，建议优先对齐以下问题：

1. **技术路线**：纯 Web（H5）还是 Godot？MVP 阶段用哪个？
2. **API 配置**：用哪个模型/Provider？预算上限？（已有 APIkey.md 配置模板）
3. **世界观包装**：中世纪村庄？修仙门派？太空殖民站？（骨架相同，皮肤不同）
4. **基础经营层深度**：参考星露谷/缺氧/环世界的哪些子系统？做到什么程度？
5. **MVP 验收标准**：分两阶段验证——先验证"关掉 AI 也好玩"，再验证"AI 惊喜有效"
6. **后续扩展优先级**：如果 MVP 验证成功，优先加什么？（更多 NPC / 多村庄 / 外交 / 战斗 / 建设...）

---

## 十一、创意溯源

本创意由以下思考链条汇聚而成：

```
"斗蛐蛐"观赏需求（个性化 + 可设定 + 不可预测）
    +
"伪开放世界"问题（LLM 能带来真正的惊喜感）
    +
LLM 不该只是聊天框，应该是隐形世界引擎
    +
输入/输出约束框架（白名单 + 幅度限制 = 可控的 LLM）
    +
异步回合制天然适配 LLM（鬼谷八荒式世界推进）
    +
AIvilization 的涌现成功经验 + 其"不好玩"的深层原因
    +
★ Gameplay First 认知修正：先做好玩的游戏，再加 AI ★
    +
星露谷启示：四层反馈 + 即时手感 + 日常节奏 = 游戏性的底层
    ↓
= 小村庄领主 v2：经营手感 + 日常充实 + AI 精准惊喜
```

> 详细创意库、AI 游戏设计原则与分类体系见 `游戏创意.md`
